<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/stylesheet.css">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <script src="js/script.js" defer></script>

    <title>P L A N T L Y</title>
  </head>

  <body>
    <div class="container-fluid">
      <div class="row vh-100 text-center">
        <!-- Left Column -->
        <div class="col-3 bckgrnd border-end border-success d-flex flex-column align-items-center justify-content-start left_col position-relative">
          <button class="btn btn-sm fullscreen-toggle" onclick="toggleFullscreen()">
            <i class="bi bi-arrows-fullscreen me-1"></i>
          </button>
          
          <header class="about-info-dash px-2">
              <h1 class="display-6 column-title mt-3 mb-4">Stats</h1>
          </header>

          <!--User photo diary section-->
          

          <!-- Recent Updates Section -->
           <div id="picsAndGraphs" class="d-flex flex-column align-items-center justify-content-evenly">
            <div class="container mt-1" id="picDiv">
              <!-- Latest Photo -->
              <div class="recent-photo mb-1">
                <h3 class="plantheader">Latest Photo</h3>
                <div id="latestPhotoContainer" class="text-center d-flex justify-content-center">
                  <p class="text-white text-center" id="noPhotoMessage">No photos yet</p>
                </div>
              </div>
            </div>
  
            <!-- Plant Growth Graph Display -->
            <div class="container mt-4" id="graphDiv">
              <div class="graph-section">
                  <h3 class="plantheader">Growth Progress Graph</h3>
                  <div class="graphHeaderBox">
                        <div value="" id="graphHeader"></div>
                  </div>
                  <div class="graph-container">
                      <canvas id="plantGrowthGraph" width="300" height="200"></canvas>
                  </div>
                  <div class="graph-legend mt-2 text-white">
                      <small>X-axis: Time | Y-axis: Growth Value</small>
                  </div>
              </div>
            </div>
            
           </div>
          

          <!-- user settings modal dialog -->
          <div class="mt-auto w-100 px-3 pb-4">
            <button class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center"
                    data-bs-toggle="modal" data-bs-target="#User-Settings-Modal">
              <i class="bi bi-gear me-2"></i> Settings
            </button>
          </div>
        </div>

        

        <!-- Middle Column -->
        <div class="col-6 bckgrnd border-start border-end border-success d-flex flex-column align-items-center justify-content-start">
          <header class="about-info-dash w-100">
              <img class="mb-2 w-50" src="assets/plantly-logo.png" alt="plantly Logo" id="plantly-logo">
              <div class="plant-tabs mt-3">
                  <ul class="nav nav-tabs" id="plantTabs" role="tablist">
                    <li class="nav-item" role="presentation"> <!-- HOME TAB -->
                      <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab">
                        <i class="bi bi-house"></i> Home
                      </button>
                    </li>
                    <li class="nav-item" role="presentation"> <!-- ADD PLANT TAB-->
                      <button class="nav-link" id="add-plant-tab" data-bs-toggle="tab" data-bs-target="#add-plant" type="button" role="tab">
                        <i class="bi bi-plus-circle"></i> Add Plant
                      </button>
                    </li>
                  </ul>
                </div>
          </header>
          
          <!-- Tab Content -->
          <div class="tab-content" id="plantTabsContent">
            <!-- Add this new default tab content -->
            <div class="tab-pane fade show active" id="home" role="tabpanel"> <!-- HOME PAGE CONTENT -->
              <div class="text-center mt-4 text-white">
                <h3 class="display-6 text-white welcome_to">Welcome to Plantly!</h3>
                <div class="mt-4">
                  <p class="lead">Track and care for your plants with ease!</p>
                   
                    <img src="assets/cartoonRed.png" alt="Welcome Plant" class="img-fluid mt-3" id="home-flower">
      
                  <p class="mt-4\">Click "Add Plant" to get started with your first plant!</p>
                  <div id="dailyStreak" class="display-6">Daily Streak: 0 ðŸ”¥</div>
                </div>
              </div>
            </div>
            
            <div class="tab-pane fade" id="add-plant" role="tabpanel"> <!-- NEW PLANT CONTENT -->
              <div class="text-center mt-3">
                <div id = "avatar-container">
                  <div id="avatar-choices" class="avatar-grid">
                    <img src="assets/Flower_Avatars/bush.jpg" alt="Bush" class="avatar-choice">
                    <img src="assets/Flower_Avatars/cactus 3.jpg" alt="Cactus" class="avatar-choice">
                    <img src="assets/Flower_Avatars/cactus.jpg" alt="Cactus" class="avatar-choice">
                    <img src="assets/Flower_Avatars/cactus2.jpg" alt="Cactus" class="avatar-choice">
                    <img src="assets/Flower_Avatars/flower.jpg" alt="Flower" class="avatar-choice">
                    <img src="assets/Flower_Avatars/leaves.jpg" alt="Leaves" class="avatar-choice">
                    <img src="assets/Flower_Avatars/leaves 2.jpg" alt="leaves" class="avatar-choice">
                    <img src="assets/Flower_Avatars/tree.jpg" alt="Tree" class="avatar-choice">
                    <img src="assets/Flower_Avatars/sapling.jpg" alt="Sapling" class="avatar-choice">
                    <img src="assets/Flower_Avatars/houseplant.jpg" alt="houseplant" class="avatar-choice">
                  </div>
              </div>
                <form id="addPlantForm" class="mt-1 text-center padding-0">
                  <div class="mb-1">
                    <input type="text" class="form-control" id="plantName" placeholder="Plant Name" required>
                  </div>
                  <p id="uniqueNameError" class="text-danger d-none">This plant name already exists!</p>
                  <div class="mb-1">
                    <!-- First dropdown: Categories -->
                    <select class="form-control" id="plantCategory" required>
                      <option value="">Select Plant Category</option>
                      <option value="flowers">Flowers</option>
                      <option value="herbs">Herbs</option>
                      <option value="succulents">Succulents</option>
                      <option value="trees">Trees</option>
                      <option value="natives">Australian Natives</option>
                      <option value="grasses">Grasses</option>
                    </select>
                  </div>

                  <div class="mb-1">
                    <!-- Second dropdown: Specific plant options -->
                    <select class="form-control" id="plantType" required disabled>
                      <option value="">Select Plant Type</option>
                    </select>
                  </div>

                  <button type="submit" class="btn btn-success btn-lg">
                    <i class="bi bi-plus-circle me-2"></i>Create New Plant!
                  </button>
                </form>
              </div>
            </div>

            <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel"> <!-- SETTINGS MODAL -->
              <div class="modal-dialog">
                <div class="modal-content modal-style">
                
                  <div class="modal-header">
                    <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
            
                  <div class="modal-body">
                    <!-- Plant Name -->
                    <div class="mb-3">
                      <label class="form-label fw-semibold">Plant Name</label>
                      <p class="form-control-plaintext border rounded px-3 py-2 text-white" id="infoPlantNameDisplay">Sunny</p>
                    </div>

                    <!-- Category and Type -->
                    <div class="mb-3">
                      <div class="d-flex flex-column flex-md-row justify-content-between gap-3">
                        <div class="w-100">
                          <label class="form-label fw-semibold">Plant Category</label>
                          <p class="form-control-plaintext border rounded px-3 py-2 text-white" id="infoPlantCategory">Succulent</p>
                        </div>
                        <div class="w-100">
                          <label class="form-label fw-semibold">Plant Type</label>
                          <p class="form-control-plaintext border rounded px-3 py-2 text-white" id="infoPlantType">Aloe Vera</p>
                        </div>
                      </div>
                    </div>

                    <!-- Birthday -->
                    <div class="mb-3">
                      <label class="form-label fw-semibold">Birthday</label>
                      <p class="form-control-plaintext border rounded px-3 py-2 text-white" id="plantBirthday">2022-08-15</p>
                    </div>
                  </div>


            
                  <div class="modal-footer d-flex justify-content-between w-100">
                    <button type="button" class="btn btn-secondary delete-plant bi bi-trash" id="delete-plant-button" data-bs-dismiss="modal">
                      Delete Plant
                    </button>
                    <div>
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>   
                </div>
              </div>
            </div> <!-- MODAL SETTINGS END -->

            <div class="modal fade " id="addInfoModal" tabindex="-1" aria-labelledby="plantModalLabel"> <!-- PLANT MODAL -->
              <div class="modal-dialog modal-lg">
                <div class="modal-content modal-style">
                  <div class="modal-header">
                    <h5 class="modal-title" id="plantModalLabel">Take Care of Your Plant!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="d-flex justify-content-evenly">

                    <div class="text-center d-flex flex-column align-items-center p-5">
                      <img src="assets/icons/graph.svg" alt="Graph Icon" style="width: 50px; height: auto;">
                      <button class="btn btn-success btn-lg mt-2 add_stat" data-bs-toggle="modal" data-bs-target="#graphModal">
                        <i class="bi bi-plus-circle me-2"></i> Add Graph
                      </button>
                    </div>

                    <div class="text-center d-flex flex-column align-items-center p-5">
                      <img src="assets/icons/camera.svg" alt="Picture Icon" style="width: 50px; height: auto;">
                      <button class="btn btn-success btn-lg mt-2 add_stat" data-bs-toggle="modal" data-bs-target="#pictureModal">
                        <i class="bi bi-plus-circle me-2"></i> Add Picture
                      </button>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div> <!-- PLANT ADD MODAL END -->

        <!-- Bootstrap Modal -->
        <div class="modal fade" id="waterModal" tabindex="-1" aria-labelledby="waterModalLabel">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content p-4 modal-style">
              <div class="modal-header">
                <h5 class="modal-title" id="waterModalLabel">Water Your Plant</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              
              <div class="modal-body text-white d-flex flex-column justify-content-between" style="height: 100%;">
                <form id="waterForm" class="flex-grow-1">
                  <div class="mb-3">
                    <label for="waterDate" class="form-label mb-0">Date</label>
                    <input type="date" id="waterDate" class="form-control">

                    <div class="btn-group mt-3" role="group">
                      <button type="button" id="waterTodayButton" class="btn btn-outline-primary date-select-button ">Today</button>
                      <button type="button" id="waterYesterdayButton" class="btn btn-outline-primary date-select-button ">Yesterday</button>
                    </div>
                  </div>
                </form>

                <div class="d-flex justify-content-end">
                  <button type="submit" form="waterForm" id="waterBtn" class="btn btn-primary btn-lg mt-3">
                    ðŸ’§ Water
                  </button>
                </div>
              </div>



            </div>
          </div>
        </div>

            
          </div>
        </div>

        <!-- Right Column -->
        <div class="col-3 bckgrnd border-start border-success d-flex flex-column align-items-center justify-content-start right_col position-relative">
          <!-- Icons container top-left -->
          <div class="position-absolute top-0 start-0 m-4 d-flex gap-3">
            <i class="bi bi-bell-fill share-icon" style="font-size: 1.5rem; color: white;"></i>
            <i class="bi bi-people-fill share-icon" style="font-size: 1.5rem; color: white;"></i>
          </div>

          <header class="about-info-dash px-2">
            <h1 class="display-6 column-title mt-3 mb-4">Share</h1>
          </header>

          <div id="share-content" class="text-center">
            <h3 class="text-center text-white mt-5">Create A Plant First In Order To Share It!</h3>
          </div>

          <button onclick="logout()" class="btn mt-3 logout_button position-absolute bottom-0 mb-5">Logout</button>
        </div>


          

          
          
          
      </div>
    </div>
    <!-- Settings Modal shell -->
    <div class="modal fade" id="User-Settings-Modal" tabindex="-1">
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content" id="SettingsModalContent">
      <!-- The content from User-Settings.html will be loaded here by JS -->
        </div>
      </div>
    </div>
    <div id="dark-overlay"></div>

    <!-- Add these modal structures -->
    <!-- Picture Modal -->
    <div class="modal fade" id="pictureModal" tabindex="-1" aria-labelledby="pictureModalLabel">
      <div class="modal-dialog modal-lg">
        <div class="modal-content modal-style">
          <div class="modal-header">
            <h5 class="modal-title" id="pictureModalLabel">Upload Plant Growth Photo</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container">
              <p class="mb-4 plantheader"><b>Share your plant growth journey with us!</b><br>Upload a photo of your plant and share your thoughts too</p>
      
              <form id="photoForm" class="mb-5">
                <!-- Photo input -->
                <div class="mb-3">
                  <label for="photoInput" class="form-label plantheader">Select Photo</label>
                  <input type="file" id="photoInput" accept="image/*" class="form-control" required>
                </div>

                <!-- Comments -->
                <div class="mb-3">
                  <label for="comments" class="form-label plantheader">Comments</label>
                  <textarea id="comments" class="form-control" placeholder="Share your thoughts about this growth update (optional)"></textarea>
                </div>

                <div class="d-flex justify-content-end">
                  <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                  <button type="submit" class="btn add_stat btn-success">Upload Photo</button>
                </div>
              </form>

              <!-- Photo Display Section -->
              <div class="mt-4">
                <h2 class="plantheader mb-3">Recent Photos</h2>
                <div id="photoDisplay" class="photo_scroll"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Growth Data Modal -->
    <div class="modal fade" id="graphModal" tabindex="-1" aria-labelledby="addGrowthModalLabel">
      <div class="modal-dialog">
        <div class="modal-content modal-style">
          <div class="modal-header">
            <h5 class="modal-title" id="addGrowthModalLabel">Add Growth Data</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="growthDataForm" onsubmit="return false;">
              <div class="mb-3">
                <label for="growthDate" class="form-label">Date</label>
                <input type="date" id="growthDate" class="form-control mb-3">

                <div class="btn-group" role="group">
                  <button type="button" id="todayButton" class="btn btn-outline-primary date-select-button">Today</button>
                  <button type="button" id="yesterdayButton" class="btn btn-outline-primary date-select-button">Yesterday</button>
                </div>

              </div>
              <div class="mb-3">
                <label for="growthHeight" class="form-label">Height (cm)</label>
                <input type="number" class="form-control" id="growthHeight" step="0.1" required>
              </div>
              <div class="text-end">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-success" id="addGrowthDataBtn">Add Data Point</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    
  </body>
</html>