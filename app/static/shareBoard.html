<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Growing Community</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/shareBoard.css">
</head>

<body class="text-white">

    <div class="container mt-4">
        <a class="btn btn-success btn-lg mb-4" href="dashboard.html">
            <i class="bi bi-arrow-left-circle me-2"></i> Back to Dashboard
        </a>

        <h1 class="mb-3">ðŸŒ± Our Growing Community</h1>
        <p class="mb-5"><strong>See what others have shared!</strong><br>Photos and notes from fellow plant lovers.</p>

        <!-- Tabs -->
        <ul class="nav nav-tabs mb-4" id="postTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="all-posts-tab" data-bs-toggle="tab" data-bs-target="#all-posts"
                    type="button" role="tab" aria-controls="all-posts" aria-selected="true">
                    All Posts
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="friends-posts-tab" data-bs-toggle="tab" data-bs-target="#friends-posts"
                    type="button" role="tab" aria-controls="friends-posts" aria-selected="false">
                    Friends' Posts
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="postTabsContent">

            <!-- All Posts -->
            <div class="tab-pane fade show active" id="all-posts" role="tabpanel" aria-labelledby="all-posts-tab">
                <div class="d-flex flex-wrap justify-content-start" id="public-posts-container">
                    <!-- Here Photo Cards will get loaded -->


                    <!-- Demo Card -->
                    <div class="card photo-card">
                        <img src="https://www.arkade.com.br/wp-content/uploads/2020/06/mgs3-naked-snake-virtuous-mission1.jpg"
                            class="photo-img" alt="Plant photo">
                        <div class="card-body">
                            <p class="card-text"><strong>Na'keed Snak </strong><br>posted on 04/08/2025, 10:15 AM</p>
                            <p class="card-text"><strong>Plant Name:</strong> ???</p>
                            <p class="card-text">Anyone know what this plant is? I found it in my garden.</p>
                        </div>
                    </div>


                </div>
            </div>


            <!-- Friends' Posts (Empty for now) -->
            <div class="tab-pane fade" id="friends-posts" role="tabpanel" aria-labelledby="friends-posts-tab">
                <div class="text-center mt-4" id="friends-posts-container">
                    <!-- Here Photo Cards will get loaded -->
                    <p class="fs-5">No posts from friends yet... </p>
                </div>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
// Function to load posts from the server will go here during testing
//add to main JS file later on
document.addEventListener("DOMContentLoaded", function () {
    fetch('/api/update-social')
        .then(response => response.json())
        .then(data => {
            //get the references for our tab containers
            const publicContainer = document.getElementById('public-posts-container');
            const friendsContainer = document.getElementById('friends-posts-container');
        
            const makeCard = (post) => {
                const card = document.createElement('div');
                card.className = 'card photo-card'; //should apply the same styles as the demo card
                card.innerHTML = `
                    <img src="${post.image}" class="photo-img" alt="${post.username}'s plant photo">
                    <div class="card-body">
                        <p class="card-text"><strong>${post.username} </strong><br>posted on 04/08/2025, 10:15 AM</p>
                        <p class="card-text"><strong>Plant Name:</strong> ${post.plant_name || 'Unknown'}</p>
                        <p class="card-text">${post.caption || ''}</p>
                    </div>
                `;
                return card;
            };
        
        

    
    </script>
</body>

</html>